{"assets":{"2AF8687E64F7ED35E42FAAD05E0506B6":{"type":"texture","index":1,"assetRequest":{"type":"slide","state":"contents","slide":"none"},"url":{"native":"assets\/1C06FB06-5DA5-49F6-9310-52F79EFFFDC9.pdf"},"width":1920,"height":1080},"8BBD939AA1C82C4D124EE9855F3C8391":{"type":"texture","index":0,"assetRequest":{"type":"slide","state":"contents","slide":"none"},"url":{"native":"assets\/1C06FB06-5DA5-49F6-9310-52F79EFFFDC9.pdf"},"width":1920,"height":1080}},"events":[{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"2AF8687E64F7ED35E42FAAD05E0506B6"},{"animations":[{"additive":false,"timeOffset":0,"beginTime":0,"from":{"scalar":false},"repeatCount":0,"fillMode":"both","duration":0.01,"autoreverses":false,"property":"hidden","to":{"scalar":true},"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"8BBD939AA1C82C4D124EE9855F3C8391"}]}]},"effects":[],"duration":0.01,"type":"transition","attributes":{"direction":0},"name":"none","objectID":"0"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"Filtering IMDS Access","targetRectangle":{"y":4,"x":4,"width":858.07500079795705,"height":100.53440856933594}},{"text":"nft add set inet firewall imds_authorized \\\"{ type uid; flags interval; };\\\"","targetRectangle":{"y":113.62686920166016,"x":2.8124998807907104,"width":829.99924804687578,"height":21}},{"text":"nft add element inet firewall imds_authorized \\\"{ ssm-user }\\\"","targetRectangle":{"y":134.62686920166016,"x":2.8124998807907104,"width":672.97236328125052,"height":21}},{"text":"nft add chain inet firewall output '{ type filter hook output priority filter; policy accept;}'","targetRectangle":{"y":155.62686920166016,"x":2.8124998807907104,"width":1111.8673828125006,"height":23}},{"text":"nft add rule inet firewall output ip daddr 169.254.0.0\/16 skuid @imds_authorized log prefix \\\"imds-authorized\\\" group 2 counter accept","targetRectangle":{"y":222.62686920166016,"x":2.8124998807907104,"width":1480.5391992187517,"height":21}},{"text":"nft add rule inet firewall output ip daddr 169.254.0.0\/16 log prefix \\\"imds-unauthorized\\\" group 3 counter drop","targetRectangle":{"y":264.62686920166016,"x":2.8124998807907104,"width":1222.5664599609388,"height":21}},{"text":"tcpdump -vv -n -e -ttt -i nflog:3 -XX","targetRectangle":{"y":306.62686920166016,"x":2.8124998807907104,"width":414.99962402343766,"height":21}},{"text":"tcpdump: listening on nflog:3, link-type NFLOG (Linux netfilter log messages), snapshot length 262144 bytes","targetRectangle":{"y":327.62686920166016,"x":2.8124998807907104,"width":1200.1340478515638,"height":21}},{"text":" 00:00:00.000000 version 0, resource ID 3, family IPv4 (2), length 148: (tos 0x0, ttl 64, id 43631, offset 0, flags [DF], proto ICMP (1), length 84)","targetRectangle":{"y":348.62686920166016,"x":2.8124998807907104,"width":1659.998496093752,"height":21}},{"text":"    192.168.64.5 > 169.254.169.254: ICMP echo request, id 41821, seq 1, length 64","targetRectangle":{"y":369.62686920166016,"x":2.8124998807907104,"width":908.5126904296884,"height":21}},{"text":"\\t0x0000:  0200 0003 0800 0100 0800 0300 1600 0a00  ................","targetRectangle":{"y":390.62686920166016,"x":2.8124998807907104,"width":776.26959960937575,"height":21}},{"text":"\\t0x0010:  696d 6473 2d75 6e61 7574 686f 7269 7a65  imds-unauthorize","targetRectangle":{"y":411.62686920166016,"x":2.8124998807907104,"width":776.26959960937575,"height":21}},{"text":"\\t0x0020:  6400 0000 0800 0500 0000 0002 0800 0b00  d...............","targetRectangle":{"y":432.62686920166016,"x":2.8124998807907104,"width":776.26959960937575,"height":21}},{"text":"\\t0x0030:  0000 0000 0800 0e00 0000 0000 5800 0900  ............X...","targetRectangle":{"y":453.62686920166016,"x":2.8124998807907104,"width":776.26959960937575,"height":21}},{"text":"\\t0x0040:  4500 0054 aa6f 4000 4001 3b8f c0a8 4005  E..T.o@.@.;...@.","targetRectangle":{"y":474.62686920166016,"x":2.8124998807907104,"width":776.26959960937575,"height":21}},{"text":"\\t0x0050:  a9fe a9fe 0800 20d1 a35d 0001 dabc 7e63  .........]....~c","targetRectangle":{"y":495.62686920166016,"x":2.8124998807907104,"width":776.26959960937575,"height":21}},{"text":"\\t0x0060:  0000 0000 15dd 0600 0000 0000 1011 1213  ................","targetRectangle":{"y":516.62686920166016,"x":2.8124998807907104,"width":776.26959960937575,"height":21}},{"text":"\\t0x0070:  1415 1617 1819 1a1b 1c1d 1e1f 2021 2223  .............!\\\"#","targetRectangle":{"y":537.62686920166016,"x":2.8124998807907104,"width":776.26959960937575,"height":21}},{"text":"\\t0x0080:  2425 2627 2829 2a2b 2c2d 2e2f 3031 3233  $%&'()*+,-.\/0123","targetRectangle":{"y":558.62686920166016,"x":2.8124998807907104,"width":776.26959960937575,"height":21}},{"text":"\\t0x0090:  3435 3637                                4567","targetRectangle":{"y":579.62686920166016,"x":2.8124998807907104,"width":641.67512695312553,"height":21}},{"text":"nft -a list ruleset | tee nft.conf","targetRectangle":{"y":642.62686920166016,"x":2.8124998807907104,"width":381.35100585937511,"height":21}},{"text":"table inet firewall { # handle 2","targetRectangle":{"y":663.62686920166016,"x":2.8124998807907104,"width":358.91859375000007,"height":21}},{"text":"\\tset imds_authorized { # handle 3","targetRectangle":{"y":684.62686920166016,"x":2.8124998807907104,"width":394.91859375000013,"height":21}},{"text":"\\t\\ttype uid","targetRectangle":{"y":705.62686920166016,"x":2.8124998807907104,"width":161.72964843749997,"height":21}},{"text":"\\t\\tflags interval","targetRectangle":{"y":726.62686920166016,"x":2.8124998807907104,"width":229.02688476562491,"height":21}},{"text":"\\t\\telements = { 1001 }","targetRectangle":{"y":747.62686920166016,"x":2.8124998807907104,"width":285.10791503906245,"height":21}},{"text":"\\t}","targetRectangle":{"y":768.62686920166016,"x":2.8124998807907104,"width":47.216206054687497,"height":21}},{"text":"\\tchain input { # handle 1","targetRectangle":{"y":810.62686920166016,"x":2.8124998807907104,"width":305.18894531249998,"height":21}},{"text":"\\t\\ttype filter hook input priority filter; policy drop;","targetRectangle":{"y":831.62686920166016,"x":2.8124998807907104,"width":655.24271484375049,"height":21}},{"text":"\\t\\tct state established accept # handle 5","targetRectangle":{"y":852.62686920166016,"x":2.8124998807907104,"width":498.21583007812529,"height":21}},{"text":"\\t\\tmeta nfproto { ipv4, ipv6 } tcp dport 22 accept # handle 6","targetRectangle":{"y":873.62686920166016,"x":2.8124998807907104,"width":722.5399511718756,"height":21}},{"text":"\\t}","targetRectangle":{"y":894.62686920166016,"x":2.8124998807907104,"width":47.216206054687497,"height":21}},{"text":"\\tchain output { # handle 2","targetRectangle":{"y":936.62686920166016,"x":2.8124998807907104,"width":316.4051513671875,"height":21}},{"text":"\\t\\ttype filter hook output priority filter; policy accept;","targetRectangle":{"y":957.62686920166016,"x":2.8124998807907104,"width":688.89133300781305,"height":21}},{"text":"\\t\\tip daddr 169.254.0.0\/16 meta skuid @imds_authorized log prefix \\\"imds-authorized\\\" group 2 counter packets 0 bytes 0 accept # handle 11","targetRectangle":{"y":978.62686920166016,"x":2.8124998807907104,"width":1563.7554052734395,"height":21}},{"text":"\\t\\tip daddr 169.254.0.0\/16 log prefix \\\"imds-unauthorized\\\" group 3 counter packets 375 bytes 31500 drop # handle 12","targetRectangle":{"y":999.62686920166016,"x":2.8124998807907104,"width":1316.9988720703141,"height":21}},{"text":"\\t}","targetRectangle":{"y":1020.6268692016602,"x":2.8124998807907104,"width":47.216206054687497,"height":21}},{"text":"}","targetRectangle":{"y":1041.6268692016602,"x":2.8124998807907104,"width":11.216206054687499,"height":21}},{"text":"https:\/\/cloud.ibm.com\/docs\/vpc?topic=vpc-imd-security-best-practices","targetRectangle":{"y":4.0000000596046448,"x":1137.3666095733643,"width":772.79999999999995,"height":28.3280029296875}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"8BBD939AA1C82C4D124EE9855F3C8391"}]}]}}]}